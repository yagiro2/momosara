{%- comment -%}
  Style is applied on this file and on styles-momo file
{%- endcomment -%}

<div data-section-type="page-info-momo-template">
  <div class="container">
    <div id="main" class="content-main" role="main">
      <div class="rte reading-width">
        <div id="toc-list"></div>
        {{ page.content }}
      </div>
      <script>

        const tocListNode = document.querySelector('#toc-list');

        function addTitleToTocList(sectionTitleNode) {
          if (sectionTitleNode.id) {
              const newItem = document.createElement('a');
              newItem.innerText = sectionTitleNode.innerText;
              newItem.classList.add('toc-list-item')
              newItem.setAttribute('href', '#' + sectionTitleNode.id);
              tocListNode.appendChild(newItem);
            }
        }
        
        function createTableOfContents() {
          const sectionTitleNodes = document.querySelectorAll('h2[id]')
          sectionTitleNodes.forEach(addTitleToTocList);
        }

        createTableOfContents();

      </script>
    </div>
  </div>
</div>


{% schema %}
  {
    "name": "Info Page",
    "settings": [
      {
        "type": "header",
        "content": "Header image"
      },
      {
        "type": "paragraph",
        "content": "Shown on all standard pages"
      },
      {
        "type": "image_picker",
        "id": "header_image",
        "label": "Image"
      }
    ]
  }
{% endschema %}

{%- comment -%}
<div class="question">
	<div class="title">
		ENTER_QUESTION
	</div>
	<div class="answer">
    ENTER_ANSWER
  </div>
</div>
{%- endcomment -%}

{% stylesheet 'scss' %}

body#info {
  > .container {
    max-width: unset;
    margin: 0;
    width: 100vw;

    > .content-main {
      margin: 0;
      padding: 0;
    }

  }

  #shopify-section-page-info-momo-template {
    > div > .container {
      max-width: unset;
      margin: 0;
      width: 100vw;

      background: url('https://cdn.shopify.com/s/files/1/3100/6776/files/info-page-background.jpg');
      color: white;

      padding: 0 15px;
    }
  }
}

  h2 {
    color: white !important;
    &[id] {
      margin-top: 2rem;
    }
  }


  #toc-list {
    display: flex;
    flex-direction: column;
    width: fit-content;
    padding: 10px;
    background: black;
    a {
      color: white;
    }

    .toc-list-item:not(:first-child) {
      margin-top: 5px;
    }
  }


  /** see question dom template above */
  .question {

    background: white;
    color: black;
    margin-bottom: 15px;
    
    // -webkit-box-shadow: 10px 10px 33px -11px rgba(0,0,0,0.31);
    // -moz-box-shadow: 10px 10px 33px -11px rgba(0,0,0,0.31);
    // box-shadow: 10px 10px 33px -11px rgba(0,0,0,0.31);

    .title {
      padding: 10px 15px;
      background-color: #ffbc00; // #ffd7d7;
      text-transform: uppercase;
    }

    .answer {
      padding: 10px 15px;
      background: #ffdd61;
    }

  }

  .info-page-section {
    .content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
  }
{% endstylesheet %}